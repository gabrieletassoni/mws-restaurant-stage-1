var currentCacheName="restaurant-reviews-cache-v111";self.addEventListener("install",function(event){event.waitUntil(caches.open(currentCacheName).then(function(cache){return cache.addAll(["/","/sw.min.js"])}))}),self.addEventListener("activate",function(event){event.waitUntil(caches.keys().then(function(cacheNames){return Promise.all(cacheNames.filter(function(cacheName){return cacheName.startsWith("restaurant-reviews-")&&cacheName!=currentCacheName}).map(function(cacheName){return caches.delete(cacheName)}))}))}),self.addEventListener("fetch",function(event){event.respondWith(caches.open(currentCacheName).then(function(cache){return cache.match(event.request).then(function(response){return response||fetch(event.request).then(function(response){return cache.put(event.request,response.clone()),response})})}))}),self.addEventListener("message",function(event){"skipWaiting"===event.data.action&&(self.skipWaiting(),console.log("skip waiting"))});